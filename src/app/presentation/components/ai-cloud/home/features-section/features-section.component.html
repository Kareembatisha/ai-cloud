<!-- features-section.component.html -->
<section class="features-section">
  <div class="container text-center">
    <!-- Title with letter animations -->
    <h2 class="section-title" appScrollTrigger data-animation="fadeInDown">
      {{ "FEATURES.TITLE" | translate }}
    </h2>

    <!-- Subtitle -->
    <p
      class="section-subtitle"
      appScrollTrigger
      data-animation="fadeIn"
      data-delay="1s"
    >
      {{ "FEATURES.SUBTITLE" | translate }}
    </p>

    <!-- Features Slider -->
    <div class="features-slider">
      <div id="featuresCarousel" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-inner">
          @for (slide of groupedFeatures; track slide[0].id; let i = $index) {
          <div class="carousel-item" [class.active]="i === 0">
            <div class="feature-slide-container">
              @for (feature of slide; track feature.id) {
              <div class="feature-card">
                <div class="feature-image-container">
                  <img
                    [src]="feature.icon"
                    [alt]="feature.title"
                    class="feature-image"
                  />
                </div>
                <div class="feature-content">
                  <h5>{{ feature.title }}</h5>
                  <p>{{ feature.description }}</p>
                </div>
              </div>
              }
            </div>
          </div>
          }
        </div>

        <!-- Carousel indicators -->
        <div class="carousel-indicators">
          @for (slide of groupedFeatures; track slide[0].id; let i = $index) {
          <button
            type="button"
            data-bs-target="#featuresCarousel"
            [attr.data-bs-slide-to]="i"
            [class.active]="i === 0"
            [attr.aria-label]="'Slide ' + (i + 1)"
          ></button>
          }
        </div>

        <!-- Carousel controls -->
        <button
          class="carousel-control-prev"
          type="button"
          data-bs-target="#featuresCarousel"
          data-bs-slide="prev"
        >
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button
          class="carousel-control-next"
          type="button"
          data-bs-target="#featuresCarousel"
          data-bs-slide="next"
        >
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
    </div>
  </div>
</section>
